<%- include("header", {user: user}) %>
<h1 style="text-align: center; margin-top: 20px">Doctors</h1>

<!-- Botón para crear un nuevo doctor -->
<div class="button-container">
  <a href="/create-doctor" class="custom-button">Add new doctor</a>
</div>


<div class="container">
  <div class="row justify-content-center">
    <% if (doctors && doctors.length > 0) { %>

      <% doctors.forEach(doctor => { %>
        <!-- Hacer clic en toda la tarjeta para redirigir a la página del doctor -->

        <div class="col-md-6 mb-4">
          <a href="/adminviewdoctor/<%= doctor.id %>" style="text-decoration: none; color: inherit;">
          <div class="cardMovement mb-4 d-flex flex-row align-items-center" style="padding: 10px; background-color: #f0f0f0; border-radius: 10px;">
            <!-- Mostrar la imagen del doctor (formato pequeño) -->
            
            <% if (doctor.image) { %>
              <img src="<%= doctor.image %>" alt="<%= doctor.name %>" class="rounded-circle" style="width: 80px; height: 80px; object-fit: cover; margin-right: 15px;">
            
              <% } else { %>
              <img src="/uploads/default.png" alt="No Image Available" class="rounded-circle" style="width: 80px; height: 80px; object-fit: cover; margin-right: 15px;">
            <% } %>
            
            <div class="card-body">
              <h5 class="card-title"><%= doctor.name %> <%= doctor.lastname %></h5>
              <p class="card-text"><strong>License #:</strong> <%= doctor.license_number %></p>
            </div>
          </div>
          </a>
        </div>
      <% }) %> <!-- Cierra correctamente el bucle forEach -->
    
    <% } else { %>
      <p>No doctors are available at the moment.</p>
    
    <% } %>
  </div>
</div>

<%- include("footer", {}) %>
